var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(a,c){for(var b=1;b<arguments.length;b++){var d=arguments[b];if(d)for(var e in d)$jscomp.owns(d,e)&&(a[e]=d[e])}return a};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Object.assign",function(a){return a||$jscomp.assign},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var a=0;return function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+a++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var b=0,d={next:function(){if(b<a.length){var e=b++;return{value:c(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
"function"!==typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(a,c){if(null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),d=1;d<arguments.length;d++){var e=arguments[d];if(null!==e)for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(b[f]=e[f])}return b},writable:!0,configurable:!0});
var Events=function(a){if(a.container)this.container=document.querySelector(a.container);else{var c=document.createElement("div");c.id="events";document.body.appendChild(c);this.container=document.querySelector("#events")}this.api="https://iasievents.ro/api/events/";this.filters={venue:null,search:null,publisher:null};this.filters=Object.assign(this.filters,a)};
Events.httpRequest=function(a){var c=function(){},b={method:"GET",success:c,warning:c,error:c,data:null};b=Object.assign(b,a);if(void 0===b.url)throw Error("[httpRequest] URL missing.");var d=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest?new XMLHttpRequest:!1;d.open(b.method,b.url,!0);if("POST"===b.method||"PUT"===b.method)d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.setRequestHeader("Content-type","application/x-www-form-urlencoded");d.onload=function(){4===
d.readyState&&200===d.status?b.success(d.responseText):b.warning()};d.onerror=b.error();d.send(b.data)};Events.prototype.getUrl=function(a){a=void 0===a?{}:a;var c=Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&");return this.filters.venue?this.api+"venue/"+this.filters.venue+"/?"+c:this.filters.publisher?this.api+"publisher/"+this.filters.publisher+"/?"+c:this.filters.search?this.api+"search/"+this.filters.search+"/?"+c:this.api+"search/?"+c};
Events.prototype.fetch=function(a,c){var b=this,d=function(a){return a.map(function(a){return'<div><img src="'+a.cover+'"/><h3><a href="'+a.url+'">'+a.name+"</a></h3></div>"}).join("")};Events.httpRequest({url:this.getUrl(a),success:function(a){if(!a)throw Error("Missing API response.");a=JSON.parse(a);if(a.error)throw Error(a.message);a.events&&(b.container.innerHTML=c?c(a.events):d(a.events))}})};
