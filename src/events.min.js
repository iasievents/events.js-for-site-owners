var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(a,d){return Object.prototype.hasOwnProperty.call(a,d)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(a,d){for(var b=1;b<arguments.length;b++){var c=arguments[b];if(c)for(var e in c)$jscomp.owns(c,e)&&(a[e]=c[e])}return a};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,b){a!=Array.prototype&&a!=Object.prototype&&(a[d]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,d,b,c){if(d){b=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var e=a[c];e in b||(b[e]={});b=b[e]}a=a[a.length-1];c=b[a];d=d(c);d!=c&&null!=d&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Object.assign",function(a){return a||$jscomp.assign},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var a=0;return function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+a++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.arrayIterator=function(a){var d=0;return $jscomp.iteratorPrototype(function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}})};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var b=0,c={next:function(){if(b<a.length){var e=b++;return{value:d(e,a[e]),done:!1}}c.next=function(){return{done:!0,value:void 0}};return c.next()}};c[Symbol.iterator]=function(){return c};return c};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
"function"!==typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(a,d){if(null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(null!==e)for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(b[f]=e[f])}return b},writable:!0,configurable:!0});
var Events=function(a){if(a.container)this.container=document.querySelector(a.container);else{var d=document.createElement("div");d.id="events";document.body.appendChild(d);this.container=document.querySelector("#events")}this.api="https://iasievents.ro/api/events/";this.filters={venue:null,search:null,publisher:null};this.filters=Object.assign(this.filters,a)};
Events.httpRequest=function(a){var d=function(){},b={method:"GET",success:d,warning:d,error:d,data:null};b=Object.assign(b,a);if(void 0===b.url)throw Error("[httpRequest] URL missing.");var c=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest?new XMLHttpRequest:!1;c.open(b.method,b.url,!0);if("POST"===b.method||"PUT"===b.method)c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("Content-type","application/x-www-form-urlencoded");c.onload=function(){4===
c.readyState&&200===c.status?b.success(c.responseText):b.warning()};c.onerror=b.error();c.send(b.data)};Events.prototype.getUrl=function(a){a=void 0===a?{}:a;var d=Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&");if(this.filters.venue)return this.api+"venue/"+this.filters.venue+"/?"+d;if(this.filters.publisher)return this.api+"publisher/"+this.filters.publisher+"/?"+d;if(this.filters.search)return this.api+"search/"+this.filters.search+"/?"+d};
Events.prototype.fetch=function(a,d){var b=this,c=function(a){return a.map(function(a){return'<div><img src="'+a.cover+'"/><h3><a href="'+a.url+'">'+a.name+"</a></h3></div>"}).join("")};Events.httpRequest({url:this.getUrl(a),success:function(a){if(!a)throw Error("Missing API response.");a=JSON.parse(a);if(a.error)throw Error(a.message);a.events&&(b.container.innerHTML=d?d(a.events):c(a.events))}})};
